{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 168c59668b102d69fc13","webpack:///./C:/wamp/www/websites/fuzzy-search/src/FuzzySearch.js","webpack:///./C:/wamp/www/websites/fuzzy-search/src/Helper.js"],"names":["module","exports","haystack","keys","options","length","Error","extend","caseSensitive","sort","query","results","i","item","score","isMatch","push","keysLoop","y","propertyValues","getDescendantProperty","z","a","b","map","result","toLocaleLowerCase","letters","split","index","indexes","letter","indexOf","Helper","target","objects","x","object","property","Object","prototype","hasOwnProperty","call","toString","path","list","firstSegment","remaining","dotIndex","value","slice","undefined"],"mappings":"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","file":"FuzzySearch.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"FuzzySearch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FuzzySearch\"] = factory();\n\telse\n\t\troot[\"FuzzySearch\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 168c59668b102d69fc13","import Helper from './Helper';\n\nmodule.exports = class FuzzySearch {\n  constructor(haystack = [], keys = [], options = {}) {\n    if (haystack.length == 0) {\n      throw new Error('We need an array containing the search list');\n    }\n\n    this.haystack = haystack;\n    this.keys = keys;\n    this.options = Helper.extend({\n      caseSensitive: false,\n      sort: false,\n    }, options);\n  }\n\n  search(query = '') {\n    if (query == '') {\n      return this.haystack;\n    }\n\n    let results = [];\n\n    for (let i = 0; i < this.haystack.length; i++) {\n      const item = this.haystack[i];\n\n      if (this.keys.length == 0) {\n        const score = this.isMatch(item, query, this.options.caseSensitive);\n\n        if (score) {\n          results.push({ item, score });\n        }\n      } else {\n        keysLoop: for (let y = 0; y < this.keys.length; y++) {\n          const propertyValues = Helper.getDescendantProperty(item, this.keys[y]);\n\n          for (let z = 0; z < propertyValues.length; z++) {\n            const score = this.isMatch(propertyValues[z], query, this.options.caseSensitive);\n\n            if (score) {\n              results.push({ item, score });\n\n              break keysLoop;\n            }\n          }\n        }\n      }\n    }\n\n    if (this.options.sort) {\n      results.sort((a, b) => a.score - b.score);\n    }\n\n    return results.map(result =>result.item);\n  }\n\n  isMatch(item, query, caseSensitive) {\n    if (!caseSensitive) {\n      item = item.toLocaleLowerCase();\n      query = query.toLocaleLowerCase();\n    }\n\n    const letters = query.split('');\n\n    let index = 0;\n    let indexes = [];\n\n    for (let i = 0; i < letters.length; i++) {\n      const letter = letters[i];\n\n      index = item.indexOf(letter, index);\n\n      if (index == -1) {\n        return false;\n      }\n\n      indexes.push(index);\n\n      index++;\n    }\n\n    let score = 1;\n\n    for (let i = 0; i < indexes.length; i++) {\n      if (i != indexes.length - 1) {\n        score += indexes[i + 1] - indexes[i];\n      }\n    }\n\n    return score;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./C:/wamp/www/websites/fuzzy-search/src/FuzzySearch.js","export default class Helper {\n  static extend(...objects) {\n    let target = {};\n\n    for (let x = 0; x < objects.length; x++) {\n      let object = objects[x];\n\n      for (let property in object) {\n        if (Object.prototype.hasOwnProperty.call(object, property)) {\n          if (Object.prototype.toString.call(object[property]) === '[object Object]') {\n            target[property] = Helper.extend(target[property], object[property]);\n          } else {\n            target[property] = object[property];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n\n  static getDescendantProperty(object, path, list = []) {\n    let firstSegment;\n    let remaining;\n    let dotIndex;\n    let value;\n    let index;\n    let length;\n\n    if (!path) {\n      list.push(object)\n    } else {\n      dotIndex = path.indexOf('.')\n\n      if (dotIndex !== -1) {\n        firstSegment = path.slice(0, dotIndex)\n        remaining = path.slice(dotIndex + 1)\n      } else {\n        firstSegment = path\n      }\n\n      value = object[firstSegment]\n      if (value !== null && value !== undefined) {\n        if (!remaining && (typeof value === 'string' || typeof value === 'number')) {\n          list.push(value)\n        } else if (Object.prototype.toString.call(value) === '[object Array]') {\n          for (index = 0, length = value.length; index < length; index++) {\n            Helper.getDescendantProperty(value[index], remaining, list)\n          }\n        } else if (remaining) {\n          Helper.getDescendantProperty(value, remaining, list)\n        }\n      }\n    }\n\n    return list\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./C:/wamp/www/websites/fuzzy-search/src/Helper.js"],"sourceRoot":""}